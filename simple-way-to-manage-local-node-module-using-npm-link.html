<!DOCTYPE html><html><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><title>A Simple Way to Manage Local Node Modules Using NPM Link</title><meta name="description" content="A Simple Way to Manage a Bunch of Local Node Modules Using NPM Link"><link async rel="stylesheet" href="/styles/main.css"><link rel="canonical" href="/simple-way-to-manage-local-node-module-using-npm-link.html"><link rel="alternate" type="application/atom+xml" title="JavaScript for Ninja" href=""><meta name="viewport" content="width=device-width,initial-scale=1"><link rel="stylesheet" title="Default" href="http://cdnjs.cloudflare.com/ajax/libs/highlight.js/8.4/styles/monokai_sublime.min.css"><script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.4/highlight.min.js"></script><script>hljs.initHighlightingOnLoad();</script><script async src="//assets.codepen.io/assets/embed/ei.js"></script></head><body><div class="vclViewport"><div class="vclApp"><a class="gh-ribbon" href="https://github.com/js-for-ninja/js-for-ninja.github.io.source"><img style="z-index: 100; position: absolute; top: 0; right: 0; border: 0" src="https://camo.githubusercontent.com/a6677b08c955af8400f44c6298f40e7d19cc5b2d/68747470733a2f2f73332e616d617a6f6e6177732e636f6d2f6769746875622f726962626f6e732f666f726b6d655f72696768745f677261795f3664366436642e706e67" alt="Fork me on GitHub" data-canonical-src="https://s3.amazonaws.com/github/ribbons/forkme_right_gray_6d6d6d.png"></a><a class="gh-ribbon" href="https://github.com/js-for-ninja/js-for-ninja.github.io.source"><img style="z-index: 100; position: absolute; top: 0; right: 0; border: 0" src="https://camo.githubusercontent.com/a6677b08c955af8400f44c6298f40e7d19cc5b2d/68747470733a2f2f73332e616d617a6f6e6177732e636f6d2f6769746875622f726962626f6e732f666f726b6d655f72696768745f677261795f3664366436642e706e67" alt="Fork me on GitHub" data-canonical-src="https://s3.amazonaws.com/github/ribbons/forkme_right_gray_6d6d6d.png"></a><header class=""><div class="vclApplicationHeader vclGridRow"><div role="banner" class="vclGridSpan-5"><a class="vclBrandLogo" href="/"><img class="" src="/img/small.png" alt=""></a></div><div class="vclGridSpan-10"><nav class="vclNavigation"><ul horizontal layout end end-justified><li role="presentation"><a class="vclIcogram" href="/feed.xml"><span class="vclText">RSS</span></a></li><li role="presentation"><a class="vclIcogram" href="/about.html"><span class="vclText">About</span></a></li></ul></nav></div></div></header><section class="vclContentArea vclLayoutWidth" role="main"><div itemscope itemtype="http://schema.org/Article" class="vclPost"><header class="vclPostHeader"><h1 itemprop="name" class="post-title">A Simple Way to Manage Local Node Modules Using NPM Link</h1><p class="post-meta"><span itemprop="datePublished" content="Sun Apr 12 2015 14:00:00 GMT+0200 (CEST)">Apr 12, 2015</span> â€¢ <span itemprop="author" itemscope itemtype="http://schema.org/Person"><span itemprop="name">Oleksii Rudenko</span></span></p></header><article class="vclPostContent"><p>If you develop a modular application for Node.js, you may end up having lots of local node modules which you don&#39;t want to publish yet. Nevertheless, you need to use them pretty much like any of the published node modules in order to ease the subsequent publishing. This means:</p><ol><li>requiring modules by the module name in your code: <code>var myModule = require(&#39;my-module&#39;);</code></li><li>declaring dependencies in your app using the module name as if it was published</li></ol><p>Additionally, it&#39;s good to be able to edit the modules&#39; code and see the changes in your app immediately without re-installation of modules.</p><p>These requirements discard the following solutions:</p><ol><li>using relative path to require a local module: <code>var myModule = require(&#39;../../local-folder/my-module&#39;)</code></li><li>using local npm installs: <code>npm install ../../local-folder/my-module</code></li></ol><p>The first possible solution would require changing your code if modules get published. And the second one requires re-installing modules each time when there are any changes to them.</p><p>The 3rd working solution exists - npm linking! The linking process consists of two steps:</p><ul><li>declaring a module as a global link by running <code>npm link</code> in the module&#39;s root folder</li><li>installing the linked modules in your target module(app) by running <code>npm link &lt;module-name&gt;</code> in the target folder</li></ul><p>This works pretty well unless one of your local modules depends on another local module. In this case, linking fails because it cannot find the dependent module. In order to solve this issue, one needs to link the dependent module to the parent module and then install the parent into the app. For example, if given the following module structure:</p><pre><code> modules/moduleA
 modules/moduleB -&gt; depends on moduleA
 app/
</code></pre><p>one has to use npm links in the following order in order to install moduleB in the app:</p><pre><code class="lang-sh"> cd modules/moduleA
 npm link
 cd modules/moduleB
 npm link moduleA
 npm link
 cd app/
 npm link moduleB
</code></pre><p>And if there are lots of inter-dependent modules, doing this manually becomes complicated. So it&#39;s time to automate. Meet the <a href="https://github.com/OrKoN/npm-link-shared">npm-link-shared</a> project. It provides a cli command that installs all modules from a local folder into the target app. It works bases on a couple of assumptions:</p><ul><li>the source folder contains all modules which have to installed in a target folder</li><li>the name of module folders matches the module name in the package.json</li></ul><p>Example usage:</p><pre><code class="lang-sh">  npm-link-shared /home/user/internal_modules/ /home/user/my-project
</code></pre><p>See the project docs <a href="https://github.com/OrKoN/npm-link-shared">on Github</a> for more details.</p><p>Thanks for reading.</p></article><div class="vclGridRow subscribe"><div class="vclGridSpan-100p"><a href="http://eepurl.com/biiKcz"><button type="button" class="vclButtonStd vclCenterBlock"><div class="vclIcogram"><div class="vclIcon fa fa-envelope" aria-hidden="true" role="img"></div><span class="vclText">Subscribe to our newsletter</span></div></button></a></div></div><div class="more-posts"><hr><h2>More Posts</h2><ul><li><a href="http://js-for.ninja/how-to-use-systemjs-hooks-during-the-build-buildsfx-processes.html">How to Use SystemJS Hooks for Building a Production Version of Your App</a></li><li><a href="http://js-for.ninja/ember-js-and-web-speech-api-example.html">Ember.js and the Web Speech API: Example of a Speech Recognition Component</a></li><li><a href="http://js-for.ninja/using-html5-application-cache-for-single-page-applications.html">Using HTML 5 Application Cache for Single Page Applications</a></li><li><a href="http://js-for.ninja/ember-js-one-case-when-bindings-do-not-work.html">Ember.js: One Case When Bindings Do Not Work</a></li></ul></div><div id="disqus_thread"></div><script type="text/javascript">/* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
            var disqus_shortname = 'jsforninja'; // required: replace example with your forum shortname

            /* * * DON'T EDIT BELOW THIS LINE * * */
            (function() {
                var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
                dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
                (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
            })();</script><noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript><meta itemprop="url" content="/simple-way-to-manage-local-node-module-using-npm-link.html"></div></section><footer class="vclApplicationFooter" role="contentinfo"><div layout horizontal><div class="vclColumn"><nav class="vclNavigation vclHorizontal"><ul><li role="presentation"><div class="vclIcogram"><a class="vclText" href="mailto:contact-us@js-for.ninja">JavaScript for Ninja &copy; 2015</a></div></li><li role="presentation"><div class="vclIcogram"><a class="vclText" href="https://github.com/js-for-ninja"><div class="vclIcon fa fa-github fa-lg" aria-hidden="true" aria-label="github" role="img"></div></a></div></li><li role="presentation"><div class="vclIcogram"><a class="vclText" href="https://twitter.com/js_for_ninja"><div class="vclIcon fa fa-twitter fa-lg" aria-hidden="true" aria-label="twitter" role="img"></div></a></div></li></ul></nav></div></div></footer></div><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
      ga('create', 'UA-57010783-1', 'auto');
      ga('send', 'pageview');</script><script src="/js/main.js" type="text/javascript"></script></div></body></html>